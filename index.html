<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Dispatch SAMS</title>
  <link rel="stylesheet" href="styles.css"/>

</head>
<body>
  <header class="header">
    <div class="titleBlock">
      <h1 id="appTitle">Dispatch SAMS</h1>
      <div class="tabs" id="tabs"></div>
    </div>

    <div class="topRight">
      <div class="bossDrop" id="bossBox">
  <div class="bossTitle">Responsable du dispatch</div>
  <div class="bossHint">Sélectionnez un médecin</div>

  <select id="bossSelect" class="bossSelect"></select>
</div>


      <button class="btnDanger" id="btnAllReserve">Tout renvoyer en Réserve</button>
      <button class="btnDanger" id="btnManage">Gérer médecins</button>
    </div>
  </header>

  <main class="main">
    <section class="left">
      <div class="roomsGrid" id="roomsGrid"></div>

      <div class="sectionTitle">Interventions</div>
      <div class="interventionsRow" id="interventionsRow"></div>

      <div class="sectionTitle">Détails</div>
      <div class="detailsPanel">
        <div class="detailsHeader">
          <div>
            <div class="detailsTitle" id="detailsTitle">Sélectionne une zone</div>
            <div class="detailsSub" id="detailsSub">Clique sur une salle / intervention / réserve</div>
          </div>
          <div class="detailsCount" id="detailsCount">0</div>
        </div>
        <div class="detailsList droppable" id="detailsList" data-zone="__DETAILS_DROP__"></div>
      </div>

      <div class="footerHint">
        Astuces : clique une zone pour voir qui est dedans. Double-clique une carte pour la renvoyer en Réserve.
      </div>
    </section>

    <aside class="right">
      <div class="rightCols">
        <div class="miniCol">
          <div class="colTitle">Réserve</div>
          <div class="pillZone droppable" data-zone="reserve">
            <div class="pillZoneHeader">
              <span>Réserve</span>
              <span class="count" id="countReserve">0 médecin</span>
            </div>
            <div class="dropBody" id="reserveList"></div>
          </div>
        </div>

        <div class="miniCol">
          <div class="colTitle">Hors service</div>
          <div class="panel">
            <div class="panelHeader">
              <span>Hors service</span>
              <span class="count" id="countHors">0 médecins</span>
            </div>
            <div class="scroll droppable" id="horsList" data-zone="hors"></div>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <!-- Modal CRUD -->
  <dialog id="crud">
    <form method="dialog" class="modalCrud">
      <div class="modalTop">
        <h3>Gérer les médecins</h3>
        <button class="modalX" value="cancel" aria-label="Fermer">✕</button>
      </div>

      <div class="crudGrid">
        <div class="crudList" id="crudList"></div>

        <div class="crudForm">
          <div class="formRow">
            <label>Id</label>
            <input id="fId" placeholder="ex: dr_miles"/>
          </div>
          <div class="formRow">
            <label>Nom</label>
            <input id="fName" placeholder="Dr …"/>
          </div>
          <div class="formRow">
            <label>Rôle</label>
            <input id="fRole" placeholder="Urgences / Chir / …"/>
          </div>
          <div class="formRow">
            <label>Tél</label>
            <input id="fPhone" placeholder="555-1234"/>
          </div>
          <div class="formRow">
            <label>Statut</label>
            <select id="fBucket">
              <option value="reserve">Réserve</option>
              <option value="hors">Hors service</option>
            </select>
          </div>

          <div class="crudActions">
            <button id="btnNew" class="btnLite" value="noop">Nouveau</button>
            <button id="btnSave" class="btnLite" value="noop">Enregistrer</button>
            <button id="btnDelete" class="btnLite danger" value="noop">Supprimer</button>
          </div>

          <div class="crudHint">
            Tout est sauvegardé en local (localStorage). Pour un vrai multi-user, on branchera un backend plus tard.
          </div>
        </div>
      </div>

      <menu class="modalFooter">
        <button class="btnLite" value="ok">Fermer</button>
      </menu>
    </form>
  </dialog>
<script type="module" src="app.js?v=100"></script>
</body>
</html>
